board,players,turnptr,won = [["E","E","E"],["E","E","E"],["E","E","E"]],("X","O"),0,(lambda b, p: (((b[0][0] == p) + (b[0][1] == p) + (b[0][2] == p)) == 3) + (((b[1][0] == p) + (b[1][1] == p) + (b[1][2] == p)) == 3) + (((b[2][0] == p) + (b[2][1] == p) + (b[2][2] == p)) == 3) + (((b[0][0] == p) + (b[1][0] == p) + (b[2][0] == p)) == 3) + (((b[0][1] == p) + (b[1][1] == p) + (b[2][1] == p)) == 3) + (((b[0][2] == p) + (b[1][2] == p) + (b[2][2] == p)) == 3) + (((b[0][0] == p) + (b[1][1] == p) + (b[2][2] == p)) == 3) + (((b[0][2] == p) + (b[1][1] == p) + (b[2][0] == p)) == 3))
while (lambda x: True)(print((players[(turnptr + 1) % 2] + " won!") * won(board, players[(turnptr + 1) % 2]))) and won(board, players[(turnptr + 1) % 2]) == 0 and turnptr < 9:
    (lambda xpt, ypt: board.__getitem__(ypt).__setitem__(xpt,  (((board.__getitem__(ypt).__getitem__(xpt) != "E") + 1) % 2) * players[turnptr % 2] + (((board.__getitem__(ypt).__getitem__(xpt) != players[(turnptr + 1) % 2]) + 1) % 2) * players[(turnptr + 1) % 2] + (((board.__getitem__(ypt).__getitem__(xpt) != players[(turnptr) % 2]) + 1) % 2) * players[(turnptr) % 2] ))(int(input("Enter the x coordinate of your selection: ")), int(input("Enter the y coordinate of your selection: ")))
    print("\n\n\t" + board[0][0] + "\t" + board[0][1] + "\t" + board[0][2] +     "\t" + "\n\n\t" + board[1][0] + "\t" + board[1][1] + "\t" + board[1][2] + "\t" + "\n\n\t" + board[2][0] + "\t" + board[2][1] + "\t" + board[2][2] + "\t\n")
    turnptr += 1